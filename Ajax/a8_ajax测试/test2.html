<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>用户名唯一性效验</title>
		<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.js">
		</script>
		<script src="../a7_ajax封装/myAjax.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			* {
				margin: 0px;
				padding: 0px;
				list-style: none;
				text-decoration: none;
			}

			span {
				color: red;
			}
		</style>
		<script type="text/javascript">
			window.onload = function() {
				var username = document.getElementById('username');
				var show01 = document.getElementsByClassName('show01');
				var email = document.getElementById('email');
				var show02 = document.getElementsByClassName('show02');
				var tel = document.getElementById('tel');
				var show03 = document.getElementsByClassName('show03');
				// 用户名
				username.onblur = function() {
					// 前提.获取input值
					var uneValue = username.value;
					// myAjax({
					// 	url: "username.php",
					// 	dataType: "text",
					// 	data: {
					// 		username: uneValue
					// 	},
					// 	success: function(result) {
					// 		show01[0].innerText = result;
					// 	}
					// })
					$.ajax({
							url: "username.php",
							dataType: "text",
							data: {
								username: uneValue
							},
							success: function(result) {
								show01[0].innerText = result;
							}
					})

				}
				// 邮箱
				email.onblur = function() {
					// 前提.获取input值
					var emaValue = email.value;
					$.ajax({
						url: "email.php",
						dataType: "text",
						type: "get",
						data: {
							email: emaValue
						},
						async: true,
						success: function(result) {
							show02[0].innerText = result;
						}
					})

				}
				// 电话
				tel.onblur = function() {
					var telValue = tel.value;
					$.ajax({
						type:"post",
						url:"tel.php",
						dataType:"text",
						async:true,
						data:{
							tel:telValue
						},
						success:function(result){
							show03[0].innerText = result;
						}
						
					})

				}
			}
		</script>
	</head>
	<body>
		<div class="box">
			用户名：<input type="text" name="username" id="username" value="" />
			<span class="show01">

			</span>
			<br><br>
			邮箱：<input type="email" name="email" id="email" value="" />
			<span class="show02">

			</span>
			<br><br>
			电话：<input type="tel" name="tel" id="tel" value="" />
			<span class="show03">

			</span>
		</div>
	</body>
</html>
